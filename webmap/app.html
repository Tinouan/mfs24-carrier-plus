<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MFS Carrier+ - World Map</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Barlow:wght@400;500;600;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- LOADING SCREEN -->
    <div class="loading" id="loading">
        <div class="loading-spinner"></div>
    </div>

    <!-- LOGIN PAGE -->
    <div class="login-page" id="login-page">
        <div class="login-container">
            <div class="login-logo">
                <div class="login-logo-icon">C+</div>
                <div class="login-logo-text">MFS <span>CARRIER+</span></div>
            </div>

            <div class="login-card">
                <div class="tabs">
                    <div class="tab active" data-tab="login">CONNEXION</div>
                    <div class="tab" data-tab="register">INSCRIPTION</div>
                </div>

                <!-- LOGIN FORM -->
                <div class="tab-content active" id="tab-login">
                    <div class="login-body">
                        <div class="login-error" id="login-error"></div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" id="login-email" placeholder="pilot@example.com">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Mot de passe</label>
                            <input type="password" class="form-input" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        </div>
                        <button class="btn" style="width:100%" onclick="handleLogin()">
                            SE CONNECTER
                        </button>
                    </div>
                    <div class="login-footer">
                        Mot de passe oubli√©? <a href="#">R√©initialiser</a>
                    </div>
                </div>

                <!-- REGISTER FORM -->
                <div class="tab-content" id="tab-register">
                    <div class="login-body">
                        <div class="login-error" id="register-error"></div>
                        <div class="form-group">
                            <label class="form-label">Pseudo</label>
                            <input type="text" class="form-input" id="register-username" placeholder="PilotMax">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" id="register-email" placeholder="pilot@example.com">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Mot de passe</label>
                            <input type="password" class="form-input" id="register-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Confirmer mot de passe</label>
                            <input type="password" class="form-input" id="register-confirm" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        </div>
                        <button class="btn" style="width:100%" onclick="handleRegister()">
                            CR√âER UN COMPTE
                        </button>
                    </div>
                    <div class="login-footer">
                        D√©j√† un compte? <a href="#" onclick="switchTab('login')">Se connecter</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MAIN APPLICATION -->
    <div class="app" id="app" style="display:none">
        <!-- SIDEBAR -->
        <aside class="sidebar" id="sidebar">
            <div class="logo">
                <div class="logo-icon">C+</div>
                <div class="logo-text">MFS <span>CARRIER+</span></div>
            </div>
            <nav class="nav">
                <div class="nav-section">
                    <div class="nav-title">Navigation</div>
                    <div class="nav-item active" data-view="map">
                        <span>üó∫Ô∏è</span> World Map
                    </div>
                    <div class="nav-item" data-view="inventory">
                        <span>üì¶</span> Inventaire
                    </div>
                </div>
                <div class="nav-divider"></div>
                <div class="nav-section">
                    <div class="nav-title">√âconomie</div>
                    <div class="nav-item" data-view="market">
                        <span>üí∞</span> March√©
                    </div>
                    <div class="nav-item" data-view="missions">
                        <span>üéØ</span> Missions
                    </div>
                </div>
                <div class="nav-divider"></div>
                <div class="nav-section">
                    <div class="nav-title">Pilote</div>
                    <div class="nav-item" data-view="profile">
                        <span>üë§</span> Mon Profil
                    </div>
                </div>
                <div class="nav-divider"></div>
                <div class="nav-section">
                    <div class="nav-title">Company</div>
                    <div class="nav-item" data-view="company">
                        <span>üè¢</span> Ma Company
                    </div>
                </div>
                <div class="nav-divider"></div>
                <div class="nav-section">
                    <div class="nav-item" onclick="handleLogout()">
                        <span>üö™</span> D√©connexion
                    </div>
                </div>
            </nav>

            <!-- SIDEBAR FILTERS -->
            <div class="sidebar-section" id="sidebar-filters">
                <div class="sidebar-section-header">
                    <span>üîç</span> FILTRES
                </div>
                <div class="sidebar-section-body">
                    <div class="sidebar-filter-group">
                        <label class="sidebar-filter-label">Type d'usine</label>
                        <div class="sidebar-filter-chips">
                            <div class="filter-chip active" data-filter="tier" data-value="all">Toutes</div>
                            <div class="filter-chip" data-filter="tier" data-value="0">T0</div>
                            <div class="filter-chip" data-filter="tier" data-value="1">T1+</div>
                        </div>
                    </div>
                    <div class="sidebar-filter-group">
                        <label class="sidebar-filter-label">Ressource</label>
                        <div class="sidebar-filter-chips">
                            <div class="filter-chip active" data-filter="resource" data-value="all">Toutes</div>
                            <div class="filter-chip" data-filter="resource" data-value="food">üåæ</div>
                            <div class="filter-chip" data-filter="resource" data-value="fuel">‚õΩ</div>
                            <div class="filter-chip" data-filter="resource" data-value="mineral">‚õèÔ∏è</div>
                        </div>
                    </div>
                    <div class="sidebar-filter-group">
                        <label class="sidebar-filter-label">Pays</label>
                        <select class="sidebar-select" id="country-filter">
                            <option value="all" selected>Tous</option>
                            <option value="FR">France</option>
                            <option value="DE">Allemagne</option>
                            <option value="GB">UK</option>
                            <option value="US">USA</option>
                        </select>
                    </div>
                    <div class="sidebar-filter-group">
                        <label class="sidebar-checkbox">
                            <input type="checkbox" id="factories-only-filter">
                            <span>üè≠ Usines uniquement</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- SIDEBAR INFO PANEL (Airport details) -->
            <div class="sidebar-section" id="sidebar-info" style="display:none;">
                <div class="sidebar-section-header">
                    <span>‚úàÔ∏è</span> <span id="sidebar-info-title">D√âTAILS</span>
                    <button class="sidebar-close-btn" onclick="closeSidebarInfo()">‚úï</button>
                </div>
                <div class="sidebar-section-body" id="sidebar-info-body">
                    <!-- Dynamic content -->
                </div>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="main" id="main">
            <!-- HEADER -->
            <header class="header">
                <div class="header-left">
                    <button class="toggle-sidebar" onclick="toggleSidebar()">‚ò∞</button>
                    <div class="breadcrumb">
                        MFS CARRIER+ <span>‚ñ∏</span> <span id="current-view">WORLD MAP</span>
                    </div>
                </div>
                <div class="header-right">
                    <div class="status-bar">
                        <div class="status-item">
                            <span class="status-light" id="api-status"></span>
                            <span id="api-status-text">API:...</span>
                        </div>
                        <div class="status-item">
                            <span class="status-light"></span>
                            <span id="factories-online">0 FACTORIES</span>
                        </div>
                    </div>
                    <div class="user-info" onclick="toggleUserMenu()">
                        <div class="user-avatar" id="user-avatar">?</div>
                        <span class="user-name" id="user-name">Loading...</span>
                    </div>
                </div>
            </header>

            <!-- MAP VIEW -->
            <div class="map-container" id="view-map">
                <div id="map"></div>

                <!-- MAP CONTROLS -->
                <div class="map-controls">
                    <button class="map-control-btn" onclick="centerOnFrance()" title="Centrer sur la France">üá´üá∑</button>
                    <button class="map-control-btn" onclick="toggleLabels()" title="Basculer Satellite/Dark">üó∫Ô∏è</button>
                    <button class="map-control-btn" onclick="toggleAirports()" title="Afficher/Masquer A√©roports">‚úàÔ∏è</button>
                    <button class="map-control-btn" onclick="refreshFactories()" title="Rafra√Æchir">üîÑ</button>
                </div>

                <!-- STATS BAR -->
                <div class="stats-bar">
                    <div class="stat-chip">
                        <span class="stat-chip-icon">üè≠</span>
                        <span class="stat-chip-value" id="stat-factories">0</span>
                        <span class="stat-chip-label">Usines</span>
                    </div>
                    <div class="stat-chip">
                        <span class="stat-chip-icon">üåç</span>
                        <span class="stat-chip-value" id="stat-airports">0</span>
                        <span class="stat-chip-label">A√©roports</span>
                    </div>
                </div>
            </div>

            <!-- COMPANY VIEW -->
            <div class="view-container" id="view-company" style="display:none;">
                <div class="view-content">
                    <!-- No Company State -->
                    <div class="company-no-company" id="company-no-company">
                        <div class="empty-state">
                            <div class="empty-state-icon">üè¢</div>
                            <h2>Pas de Company</h2>
                            <p>Cr√©ez votre company pour commencer √† construire des usines et produire des ressources.</p>
                            <button class="btn" onclick="showCreateCompanyForm()">
                                CR√âER MA COMPANY
                            </button>
                        </div>
                    </div>

                    <!-- Create Company Form -->
                    <div class="company-create-form" id="company-create-form" style="display:none;">
                        <div class="form-card">
                            <div class="form-card-header">
                                <h2>Nouvelle Company</h2>
                            </div>
                            <div class="form-card-body">
                                <div class="form-error" id="company-create-error"></div>
                                <div class="form-group">
                                    <label class="form-label">Nom de la company</label>
                                    <input type="text" class="form-input" id="company-name" placeholder="Ma Super Company">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">A√©roport d'attache (ICAO)</label>
                                    <input type="text" class="form-input" id="company-home-airport" placeholder="LFPG" maxlength="4" style="text-transform: uppercase;">
                                    <div class="form-hint">Code ICAO de votre a√©roport principal (ex: LFPG, EGLL, KJFK)</div>
                                </div>
                            </div>
                            <div class="form-card-footer">
                                <button class="btn btn-secondary" onclick="hideCreateCompanyForm()">ANNULER</button>
                                <button class="btn" id="btn-create-company" onclick="submitCreateCompany()">CR√âER</button>
                            </div>
                        </div>
                    </div>

                    <!-- Company Dashboard (with tabs) -->
                    <div class="company-dashboard" id="company-dashboard" style="display:none;">
                        <!-- Company Header -->
                        <div class="company-header-card">
                            <div class="company-header-info">
                                <h1 id="company-display-name">Ma Company</h1>
                                <div class="company-meta">
                                    <span>üè† <span id="company-home-ident">LFPG</span></span>
                                    <span>üìÖ Cr√©√©e le <span id="company-created-date">-</span></span>
                                </div>
                            </div>
                            <div class="company-balance">
                                <span class="balance-label">Solde</span>
                                <span class="balance-value" id="company-balance">0 $</span>
                            </div>
                        </div>

                        <!-- Company Tabs -->
                        <div class="company-tabs">
                            <div class="company-tab active" data-tab="overview" onclick="switchCompanyTab('overview')">
                                <span>üìä</span> Aper√ßu
                            </div>
                            <div class="company-tab" data-tab="factories" onclick="switchCompanyTab('factories')">
                                <span>üè≠</span> Usines
                                <span class="tab-badge" id="tab-factories-count">0</span>
                            </div>
                            <div class="company-tab" data-tab="fleet" onclick="switchCompanyTab('fleet')">
                                <span>‚úàÔ∏è</span> Flotte
                                <span class="tab-badge" id="tab-fleet-count">0</span>
                            </div>
                            <div class="company-tab" data-tab="employees" onclick="switchCompanyTab('employees')">
                                <span>üë•</span> Employ√©s
                                <span class="tab-badge" id="tab-employees-count">0</span>
                            </div>
                        </div>

                        <!-- Tab Content: Overview -->
                        <div class="company-tab-content active" id="company-tab-overview">
                            <div class="company-stats-grid">
                                <div class="company-stat-card">
                                    <span class="stat-icon">üè≠</span>
                                    <span class="stat-value" id="company-factory-count">0</span>
                                    <span class="stat-label">Usines</span>
                                </div>
                                <div class="company-stat-card">
                                    <span class="stat-icon">‚úàÔ∏è</span>
                                    <span class="stat-value" id="company-aircraft-count">0</span>
                                    <span class="stat-label">Avions</span>
                                </div>
                                <div class="company-stat-card">
                                    <span class="stat-icon">üë•</span>
                                    <span class="stat-value" id="company-member-count">0</span>
                                    <span class="stat-label">Membres</span>
                                </div>
                                <div class="company-stat-card">
                                    <span class="stat-icon">üë∑</span>
                                    <span class="stat-value" id="company-worker-count">0</span>
                                    <span class="stat-label">Ouvriers</span>
                                </div>
                            </div>
                        </div>

                        <!-- Tab Content: Factories -->
                        <div class="company-tab-content" id="company-tab-factories">
                            <div class="tab-header">
                                <h3>Usines de la Company</h3>
                                <button class="btn btn-small" onclick="goToMapForFactory()">
                                    + Nouvelle Usine
                                </button>
                            </div>
                            <div class="factories-list" id="company-factories-list">
                                <div class="empty-state-small">
                                    <span>üè≠</span>
                                    <p>Aucune usine. Allez sur la carte pour en cr√©er une.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Tab Content: Fleet -->
                        <div class="company-tab-content" id="company-tab-fleet">
                            <div class="tab-header">
                                <h3>Flotte A√©rienne</h3>
                                <button class="btn btn-small" onclick="openAddAircraftModal()">
                                    + Ajouter Avion
                                </button>
                            </div>
                            <div class="fleet-list" id="company-fleet-list">
                                <div class="empty-state-small">
                                    <span>‚úàÔ∏è</span>
                                    <p>Aucun avion dans la flotte.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Tab Content: Employees -->
                        <div class="company-tab-content" id="company-tab-employees">
                            <div class="tab-header">
                                <h3>Membres de la Company</h3>
                                <button class="btn btn-small" onclick="openInviteMemberModal()">
                                    + Inviter Membre
                                </button>
                            </div>
                            <div class="employees-list" id="company-employees-list">
                                <div class="empty-state-small">
                                    <span>üë•</span>
                                    <p>Chargement des membres...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- INVENTORY VIEW -->
            <div class="view-container" id="view-inventory" style="display:none;">
                <div class="view-content" style="max-width: 1400px;">
                    <!-- Inventory Header -->
                    <div class="inventory-header-card">
                        <div class="inventory-header-info">
                            <h1>üì¶ Inventaire</h1>
                            <p class="inventory-subtitle" id="inv-subtitle">0 items | 0$ | 0 a√©roports</p>
                        </div>
                        <div class="market-wallets">
                            <div class="market-wallet">
                                <span class="wallet-icon">üë§</span>
                                <span class="wallet-value" id="inv-wallet-personal">0$</span>
                                <span class="wallet-label">Perso</span>
                            </div>
                            <div class="market-wallet">
                                <span class="wallet-icon">üè¢</span>
                                <span class="wallet-value" id="inv-wallet-company">0$</span>
                                <span class="wallet-label" id="inv-wallet-company-name">Company</span>
                            </div>
                        </div>
                    </div>

                    <!-- Inventory DataTable -->
                    <div id="inventory-datatable">
                        <div class="market-loading">
                            <div class="loading-spinner"></div>
                            <p>Chargement de l'inventaire...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MARKET VIEW (HV - H√¥tel des Ventes) -->
            <div class="view-container" id="view-market" style="display:none;">
                <div class="view-content" style="max-width: 1200px;">
                    <!-- Market Header -->
                    <div class="market-header-card">
                        <div class="market-header-info">
                            <h1>üí∞ March√© Global</h1>
                            <p class="market-subtitle">H√¥tel des Ventes - Achetez des ressources de vendeurs du monde entier</p>
                        </div>
                        <div class="market-wallets">
                            <div class="market-wallet">
                                <span class="wallet-icon">üë§</span>
                                <span class="wallet-value" id="wallet-personal">0$</span>
                                <span class="wallet-label">Perso</span>
                            </div>
                            <div class="market-wallet">
                                <span class="wallet-icon">üè¢</span>
                                <span class="wallet-value" id="wallet-company">0$</span>
                                <span class="wallet-label" id="wallet-company-name">Company</span>
                            </div>
                        </div>
                    </div>

                    <!-- Tier Distribution -->
                    <div class="market-tier-chips" id="market-tier-chips">
                        <!-- Dynamically populated -->
                    </div>

                    <!-- Market DataTable -->
                    <div id="market-datatable">
                        <div class="market-loading">
                            <div class="loading-spinner"></div>
                            <p>Chargement du march√©...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PROFILE VIEW -->
            <div class="view-container" id="view-profile" style="display:none;">
                <div class="view-content">
                    <!-- Profile Header -->
                    <div class="profile-header-card">
                        <div class="profile-avatar">
                            <span id="profile-avatar-letter">?</span>
                        </div>
                        <div class="profile-header-info">
                            <h1 id="profile-username">Pilote</h1>
                            <div class="profile-meta">
                                <span>üìß <span id="profile-email">-</span></span>
                                <span>üìÖ Membre depuis <span id="profile-joined-date">-</span></span>
                            </div>
                        </div>
                        <div class="profile-xp-box">
                            <div class="xp-label">NIVEAU PILOTE</div>
                            <div class="xp-level" id="profile-pilot-level">1</div>
                            <div class="xp-bar">
                                <div class="xp-bar-fill" id="profile-xp-fill" style="width: 0%"></div>
                            </div>
                            <div class="xp-text"><span id="profile-xp">0</span> / <span id="profile-xp-next">1000</span> XP</div>
                        </div>
                    </div>

                    <!-- Profile Tabs -->
                    <div class="profile-tabs">
                        <div class="profile-tab active" data-tab="overview" onclick="switchProfileTab('overview')">
                            <span>üìä</span> Aper√ßu
                        </div>
                        <div class="profile-tab" data-tab="licenses" onclick="switchProfileTab('licenses')">
                            <span>ü™™</span> Licences
                        </div>
                        <div class="profile-tab" data-tab="mailbox" onclick="switchProfileTab('mailbox')">
                            <span>üì¨</span> Messagerie
                            <span class="tab-badge" id="tab-mail-count">0</span>
                        </div>
                        <div class="profile-tab" data-tab="transactions" onclick="switchProfileTab('transactions')">
                            <span>üí≥</span> Transactions
                        </div>
                    </div>

                    <!-- Tab Content: Overview -->
                    <div class="profile-tab-content active" id="profile-tab-overview">
                        <div class="profile-stats-grid">
                            <div class="profile-stat-card">
                                <span class="stat-icon">‚úàÔ∏è</span>
                                <span class="stat-value" id="profile-flights-count">0</span>
                                <span class="stat-label">Vols effectu√©s</span>
                            </div>
                            <div class="profile-stat-card">
                                <span class="stat-icon">üïê</span>
                                <span class="stat-value" id="profile-flight-hours">0h</span>
                                <span class="stat-label">Heures de vol</span>
                            </div>
                            <div class="profile-stat-card">
                                <span class="stat-icon">üì¶</span>
                                <span class="stat-value" id="profile-cargo-delivered">0t</span>
                                <span class="stat-label">Cargo livr√©</span>
                            </div>
                            <div class="profile-stat-card">
                                <span class="stat-icon">üí∞</span>
                                <span class="stat-value" id="profile-earnings">0$</span>
                                <span class="stat-label">Gains totaux</span>
                            </div>
                        </div>

                        <div class="profile-section">
                            <h3>Informations</h3>
                            <div class="profile-info-grid">
                                <div class="profile-info-item">
                                    <span class="info-label">Company</span>
                                    <span class="info-value" id="profile-company-name">-</span>
                                </div>
                                <div class="profile-info-item">
                                    <span class="info-label">R√¥le</span>
                                    <span class="info-value" id="profile-company-role">-</span>
                                </div>
                                <div class="profile-info-item">
                                    <span class="info-label">Base</span>
                                    <span class="info-value" id="profile-home-base">-</span>
                                </div>
                                <div class="profile-info-item">
                                    <span class="info-label">Position actuelle</span>
                                    <span class="info-value" id="profile-current-location">-</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Content: Licenses -->
                    <div class="profile-tab-content" id="profile-tab-licenses">
                        <div class="tab-header">
                            <h3>Licences Avion</h3>
                        </div>
                        <div class="licenses-grid" id="profile-licenses-list">
                            <div class="license-card locked">
                                <div class="license-icon">üõ©Ô∏è</div>
                                <div class="license-info">
                                    <div class="license-name">PPL - Monomoteur</div>
                                    <div class="license-desc">Cessna 172, PA-28</div>
                                </div>
                                <div class="license-status unlocked">‚úì</div>
                            </div>
                            <div class="license-card">
                                <div class="license-icon">‚úàÔ∏è</div>
                                <div class="license-info">
                                    <div class="license-name">CPL - Bimoteur</div>
                                    <div class="license-desc">King Air, Baron</div>
                                </div>
                                <div class="license-status locked">üîí</div>
                            </div>
                            <div class="license-card">
                                <div class="license-icon">üõ´</div>
                                <div class="license-info">
                                    <div class="license-name">ATPL - Jet R√©gional</div>
                                    <div class="license-desc">CRJ, ERJ, ATR</div>
                                </div>
                                <div class="license-status locked">üîí</div>
                            </div>
                            <div class="license-card">
                                <div class="license-icon">üõ¨</div>
                                <div class="license-info">
                                    <div class="license-name">ATPL - Narrowbody</div>
                                    <div class="license-desc">A320, B737</div>
                                </div>
                                <div class="license-status locked">üîí</div>
                            </div>
                            <div class="license-card">
                                <div class="license-icon">üåç</div>
                                <div class="license-info">
                                    <div class="license-name">ATPL - Widebody</div>
                                    <div class="license-desc">A350, B777, B787</div>
                                </div>
                                <div class="license-status locked">üîí</div>
                            </div>
                            <div class="license-card">
                                <div class="license-icon">üì¶</div>
                                <div class="license-info">
                                    <div class="license-name">Cargo - Freighter</div>
                                    <div class="license-desc">B747F, A330F</div>
                                </div>
                                <div class="license-status locked">üîí</div>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Content: Mailbox -->
                    <div class="profile-tab-content" id="profile-tab-mailbox">
                        <div class="tab-header">
                            <h3>Messagerie</h3>
                        </div>
                        <div class="mailbox-list" id="profile-mailbox-list">
                            <div class="empty-state-small">
                                <span>üì¨</span>
                                <p>Aucun message.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Content: Transactions -->
                    <div class="profile-tab-content" id="profile-tab-transactions">
                        <div class="tab-header">
                            <h3>Historique des Transactions</h3>
                        </div>
                        <div class="transactions-list" id="profile-transactions-list">
                            <div class="empty-state-small">
                                <span>üí≥</span>
                                <p>Aucune transaction.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- TOAST CONTAINER -->
    <div class="toast-container" id="toast-container"></div>

    <!-- FACTORY CREATION MODAL -->
    <div class="modal-overlay" id="modal-create-factory">
        <div class="modal" style="max-width: 480px;">
            <div class="modal-header">
                <div class="modal-title">NOUVELLE USINE</div>
                <button class="modal-close" onclick="closeCreateFactoryModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-error" id="factory-create-error"></div>

                <!-- Location Info -->
                <div class="modal-info-box">
                    <div class="modal-info-row">
                        <span class="modal-info-label">A√©roport</span>
                        <span class="modal-info-value" id="factory-airport-ident">LFPG</span>
                    </div>
                    <div class="modal-info-row">
                        <span class="modal-info-label">Emplacement</span>
                        <span class="modal-info-value">Slot #<span id="factory-slot-index">1</span></span>
                    </div>
                </div>

                <!-- Factory Name -->
                <div class="form-group">
                    <label class="form-label">Nom de l'usine</label>
                    <input type="text" class="form-input" id="factory-name" placeholder="Ma premi√®re usine">
                </div>

                <!-- Recipe Selection -->
                <div class="form-group">
                    <label class="form-label">Recette (optionnel)</label>
                    <select class="form-select" id="factory-recipe">
                        <option value="">-- S√©lectionner une recette --</option>
                    </select>
                    <div class="form-hint">Vous pouvez configurer la recette plus tard</div>
                </div>

                <!-- Recipe Details (shown when recipe selected) -->
                <div class="modal-recipe-details" id="recipe-details" style="display: none;">
                    <div class="recipe-detail-header">
                        <span id="recipe-detail-name">Nom recette</span>
                        <span class="recipe-tier-badge" id="recipe-detail-tier">T1</span>
                    </div>
                    <div class="recipe-detail-row">
                        <span>Dur√©e de production</span>
                        <span id="recipe-detail-time">2h</span>
                    </div>
                    <div class="recipe-detail-row">
                        <span>Quantit√© produite</span>
                        <span id="recipe-detail-qty">10</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeCreateFactoryModal()">ANNULER</button>
                <button class="btn" id="btn-create-factory" onclick="submitCreateFactory()">
                    CR√âER L'USINE
                </button>
            </div>
        </div>
    </div>

    <!-- TRANSFER MODAL -->
    <div class="modal-overlay" id="modal-transfer">
        <div class="modal" style="max-width: 500px;">
            <div class="modal-header">
                <div class="modal-title">TRANSFERT D'ITEMS</div>
                <button class="modal-close" onclick="closeTransferModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-error" id="transfer-error"></div>

                <!-- Transfer Preview -->
                <div class="transfer-preview">
                    <div class="transfer-from">
                        <div class="location-name" id="transfer-from-name">Source</div>
                        <div class="location-type" id="transfer-from-type">warehouse</div>
                    </div>
                    <div class="transfer-arrow">‚Üí</div>
                    <div class="transfer-to">
                        <div class="location-name" id="transfer-to-name">Destination</div>
                        <div class="location-type" id="transfer-to-type">warehouse</div>
                    </div>
                </div>

                <!-- Item Info -->
                <div class="transfer-item-info">
                    <div class="item-icon" id="transfer-item-icon">üì¶</div>
                    <div class="item-details">
                        <div class="item-name" id="transfer-item-name">Item</div>
                        <div class="item-available">Disponible: <span id="transfer-item-available">0</span></div>
                    </div>
                </div>

                <!-- Quantity Input -->
                <div class="form-group">
                    <label class="form-label">Quantit√© √† transf√©rer</label>
                    <div class="transfer-qty-input">
                        <input type="number" id="transfer-qty" min="1" value="1">
                        <button class="qty-max-btn" onclick="setTransferMax()">MAX</button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeTransferModal()">ANNULER</button>
                <button class="btn" id="btn-confirm-transfer" onclick="confirmTransfer()">
                    TRANSF√âRER
                </button>
            </div>
        </div>
    </div>

    <!-- CREATE WAREHOUSE MODAL -->
    <div class="modal-overlay" id="modal-create-warehouse">
        <div class="modal" style="max-width: 420px;">
            <div class="modal-header">
                <div class="modal-title">NOUVEL ENTREP√îT</div>
                <button class="modal-close" onclick="closeCreateWarehouseModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-error" id="warehouse-create-error"></div>

                <div class="form-group">
                    <label class="form-label">A√©roport (Code ICAO)</label>
                    <input type="text" class="form-input" id="warehouse-airport" placeholder="LFPG" maxlength="4" style="text-transform: uppercase;">
                    <div class="form-hint">Code ICAO de l'a√©roport o√π cr√©er votre entrep√¥t personnel</div>
                </div>
                <div class="form-group">
                    <label class="form-label">Nom (optionnel)</label>
                    <input type="text" class="form-input" id="warehouse-name" placeholder="Mon Entrep√¥t">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeCreateWarehouseModal()">ANNULER</button>
                <button class="btn" id="btn-create-warehouse" onclick="submitCreateWarehouse()">
                    CR√âER L'ENTREP√îT
                </button>
            </div>
        </div>
    </div>

    <!-- INVENTORY DETAIL MODAL -->
    <div class="modal-overlay" id="modal-inventory-detail">
        <div class="modal" style="max-width: 600px;">
            <div class="modal-header">
                <div class="modal-title" id="detail-container-title">CONTENU</div>
                <button class="modal-close" onclick="closeInventoryDetailModal()">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Container Info -->
                <div class="modal-info-box" id="detail-container-info">
                    <div class="modal-info-row">
                        <span class="modal-info-label">Type</span>
                        <span class="modal-info-value" id="detail-container-type">-</span>
                    </div>
                    <div class="modal-info-row">
                        <span class="modal-info-label">A√©roport</span>
                        <span class="modal-info-value" id="detail-container-airport">-</span>
                    </div>
                    <div class="modal-info-row">
                        <span class="modal-info-label">Valeur totale</span>
                        <span class="modal-info-value" id="detail-container-value">0 $</span>
                    </div>
                </div>

                <!-- Items Table -->
                <div class="detail-items-table" id="detail-items-table">
                    <table class="items-table">
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Tier</th>
                                <th>Qt√©</th>
                                <th>Poids</th>
                                <th>Valeur</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="detail-items-body">
                            <!-- Dynamically populated -->
                        </tbody>
                    </table>
                </div>

                <!-- Empty state -->
                <div class="detail-empty" id="detail-empty" style="display:none;">
                    <span>üì¶</span>
                    <p>Ce conteneur est vide</p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeInventoryDetailModal()">FERMER</button>
            </div>
        </div>
    </div>

    <!-- MARKET BUY MODAL -->
    <div class="modal-overlay" id="modal-market-buy">
        <div class="modal" style="max-width: 480px;">
            <div class="modal-header">
                <div class="modal-title">üõí ACHETER</div>
                <button class="modal-close" onclick="closeMarketBuyModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-error" id="market-buy-error"></div>

                <!-- Item Info -->
                <div class="market-buy-item">
                    <div class="buy-item-icon" id="buy-item-icon">üì¶</div>
                    <div class="buy-item-details">
                        <div class="buy-item-name" id="buy-item-name">Item</div>
                        <div class="buy-item-tier" id="buy-item-tier">T0</div>
                    </div>
                </div>

                <!-- Seller Info -->
                <div class="modal-info-box">
                    <div class="modal-info-row">
                        <span class="modal-info-label">Vendeur</span>
                        <span class="modal-info-value" id="buy-seller-name">Company</span>
                    </div>
                    <div class="modal-info-row">
                        <span class="modal-info-label">A√©roport</span>
                        <span class="modal-info-value" id="buy-airport">LFPG</span>
                    </div>
                    <div class="modal-info-row">
                        <span class="modal-info-label">Prix unitaire</span>
                        <span class="modal-info-value" id="buy-unit-price">0 $</span>
                    </div>
                    <div class="modal-info-row">
                        <span class="modal-info-label">Disponible</span>
                        <span class="modal-info-value" id="buy-available-qty">0</span>
                    </div>
                </div>

                <!-- Wallet Selection -->
                <div class="form-group">
                    <label class="form-label">Acheter pour</label>
                    <div class="wallet-selection">
                        <label class="wallet-option">
                            <input type="radio" name="buy-wallet" value="player" checked onchange="updateBuyWalletSelection()">
                            <span class="wallet-option-content">
                                <span class="wallet-option-icon">üë§</span>
                                <span class="wallet-option-label">Personnel</span>
                                <span class="wallet-option-balance" id="buy-wallet-personal">0$</span>
                            </span>
                        </label>
                        <label class="wallet-option" id="buy-wallet-company-option">
                            <input type="radio" name="buy-wallet" value="company" onchange="updateBuyWalletSelection()">
                            <span class="wallet-option-content">
                                <span class="wallet-option-icon">üè¢</span>
                                <span class="wallet-option-label" id="buy-wallet-company-name">Company</span>
                                <span class="wallet-option-balance" id="buy-wallet-company">0$</span>
                            </span>
                        </label>
                    </div>
                    <div class="wallet-warning" id="buy-wallet-warning" style="display: none;">
                        ‚ö†Ô∏è Solde insuffisant
                    </div>
                </div>

                <!-- Quantity Input -->
                <div class="form-group">
                    <label class="form-label">Quantit√©</label>
                    <div class="transfer-qty-input">
                        <input type="number" id="buy-qty" min="1" value="1" oninput="updateBuyTotal()">
                        <button class="qty-max-btn" onclick="setBuyMax()">MAX</button>
                    </div>
                </div>

                <!-- Total -->
                <div class="buy-total-box">
                    <span class="buy-total-label">TOTAL</span>
                    <span class="buy-total-value" id="buy-total">0 $</span>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeMarketBuyModal()">ANNULER</button>
                <button class="btn" id="btn-confirm-buy" onclick="confirmMarketBuy()">
                    ACHETER
                </button>
            </div>
        </div>
    </div>

    <!-- SELL MODAL -->
    <div class="modal-overlay" id="modal-market-sell">
        <div class="modal" style="max-width: 480px;">
            <div class="modal-header">
                <div class="modal-title">üí∞ METTRE EN VENTE</div>
                <button class="modal-close" onclick="closeSellModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-error" id="market-sell-error"></div>

                <!-- Item Info -->
                <div class="market-buy-item">
                    <div class="buy-item-icon" id="sell-item-icon">üì¶</div>
                    <div class="buy-item-details">
                        <div class="buy-item-name" id="sell-item-name">Item</div>
                        <div class="buy-item-tier" id="sell-item-tier">T0</div>
                    </div>
                </div>

                <!-- Location Info -->
                <div class="modal-info-box">
                    <div class="modal-info-row">
                        <span class="modal-info-label">Stock disponible</span>
                        <span class="modal-info-value" id="sell-available-qty">0</span>
                    </div>
                    <div class="modal-info-row">
                        <span class="modal-info-label">Localisation</span>
                        <span class="modal-info-value" id="sell-location">LFPG</span>
                    </div>
                    <div class="modal-info-row">
                        <span class="modal-info-label">Conteneur</span>
                        <span class="modal-info-value" id="sell-container">Entrep√¥t</span>
                    </div>
                </div>

                <!-- Quantity Input -->
                <div class="form-group">
                    <label class="form-label">Quantit√© √† vendre</label>
                    <div class="transfer-qty-input">
                        <input type="number" id="sell-qty" min="1" value="1" oninput="updateSellTotal()">
                        <button class="qty-max-btn" onclick="setSellMax()">MAX</button>
                    </div>
                </div>

                <!-- Price Input -->
                <div class="form-group">
                    <label class="form-label">Prix unitaire ($)</label>
                    <input type="number" class="form-input" id="sell-price" min="1" value="10" oninput="updateSellTotal()">
                </div>

                <!-- Total -->
                <div class="buy-total-box">
                    <span class="buy-total-label">REVENUS ESTIM√âS</span>
                    <span class="buy-total-value" id="sell-total">0 $</span>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeSellModal()">ANNULER</button>
                <button class="btn" id="btn-confirm-sell" onclick="confirmMarketSell()">
                    METTRE EN VENTE
                </button>
            </div>
        </div>
    </div>

    <!-- ADD AIRCRAFT MODAL -->
    <div class="modal-overlay" id="modal-add-aircraft">
        <div class="modal" style="max-width: 600px;">
            <div class="modal-header">
                <div class="modal-title">AJOUTER UN AVION</div>
                <button class="modal-close" onclick="closeAddAircraftModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-error" id="aircraft-add-error"></div>

                <!-- Tabs: Catalogue / Manuel -->
                <div class="aircraft-tabs">
                    <button class="aircraft-tab active" data-tab="catalog" onclick="switchAircraftTab('catalog')">
                        Catalogue
                    </button>
                    <button class="aircraft-tab" data-tab="manual" onclick="switchAircraftTab('manual')">
                        Manuel
                    </button>
                </div>

                <!-- Tab: Catalogue -->
                <div id="aircraft-tab-catalog" class="aircraft-tab-content active">
                    <div class="catalog-filters">
                        <select id="catalog-category" onchange="filterCatalog()">
                            <option value="">Toutes categories</option>
                            <option value="turboprop">Turboprop</option>
                            <option value="jet_small">Jet Petit</option>
                            <option value="jet_medium">Jet Moyen</option>
                            <option value="jet_large">Gros Porteur</option>
                            <option value="helicopter">Helicoptere</option>
                        </select>
                    </div>
                    <div class="catalog-grid" id="catalog-grid">
                        <div class="loading-small">Chargement...</div>
                    </div>
                </div>

                <!-- Tab: Manuel -->
                <div id="aircraft-tab-manual" class="aircraft-tab-content" style="display:none;">
                    <div class="form-group">
                        <label class="form-label">Immatriculation *</label>
                        <input type="text" id="manual-registration" placeholder="F-XXXX" maxlength="10" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Type d'avion *</label>
                        <input type="text" id="manual-type" placeholder="Cessna 208 Caravan" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Code ICAO</label>
                        <input type="text" id="manual-icao" placeholder="C208" maxlength="10" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Surnom</label>
                        <input type="text" id="manual-name" placeholder="Mon avion prefere" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Capacite cargo (kg)</label>
                        <input type="number" id="manual-capacity" placeholder="1000" value="1000" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Aeroport actuel</label>
                        <input type="text" id="manual-airport" placeholder="LFPG" maxlength="4" class="form-input">
                    </div>
                </div>

                <!-- Registration input (for catalog purchase) -->
                <div id="catalog-registration-section" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Immatriculation pour le nouvel avion *</label>
                        <input type="text" id="catalog-registration" placeholder="F-XXXX" maxlength="10" class="form-input">
                    </div>
                </div>

                <!-- Price Info -->
                <div class="modal-info-box" id="aircraft-price-box" style="display:none;">
                    <div class="modal-info-row">
                        <span class="modal-info-label">Prix</span>
                        <span class="modal-info-value" id="aircraft-price-label">0 $</span>
                    </div>
                    <div class="modal-info-row">
                        <span class="modal-info-label">Solde Company</span>
                        <span class="modal-info-value" id="aircraft-balance-label">0 $</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeAddAircraftModal()">ANNULER</button>
                <button class="btn" id="btn-add-aircraft" onclick="submitAddAircraft()">
                    AJOUTER
                </button>
            </div>
        </div>
    </div>

    <!-- AIRCRAFT DETAILS MODAL -->
    <div class="modal-overlay" id="modal-aircraft-details">
        <div class="modal" style="max-width: 500px;">
            <div class="modal-header">
                <div class="modal-title" id="aircraft-detail-title">DETAILS AVION</div>
                <button class="modal-close" onclick="closeAircraftDetailsModal()">&times;</button>
            </div>
            <div class="modal-body" id="aircraft-detail-body">
                <div class="loading-small">Chargement...</div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="btn-remove-aircraft" onclick="confirmRemoveAircraft()">
                    RETIRER
                </button>
                <button class="btn btn-secondary" onclick="closeAircraftDetailsModal()">FERMER</button>
            </div>
        </div>
    </div>

    <!-- FACTORY MANAGEMENT MODAL V2 -->
    <div class="modal-overlay" id="modal-factory-manage">
        <div class="modal" style="max-width: 600px;">
            <div class="modal-header">
                <div class="modal-title">
                    <span id="factory-manage-icon">üè≠</span>
                    <span id="factory-manage-name">Usine</span>
                    <span class="badge" id="factory-manage-tier">T1</span>
                    <button class="btn btn-small btn-upgrade" id="btn-factory-upgrade" onclick="upgradeFactory()">UPGRADE</button>
                </div>
                <button class="modal-close" onclick="closeFactoryManageModal()">&times;</button>
            </div>
            <div class="modal-body" id="factory-manage-body">
                <!-- Loading State -->
                <div class="factory-manage-loading" id="factory-manage-loading">
                    <div class="loading-spinner"></div>
                    <p>Chargement des donn√©es...</p>
                </div>

                <!-- Content (hidden while loading) -->
                <div id="factory-manage-content" style="display: none;">
                    <!-- Factory Info -->
                    <div class="factory-manage-info">
                        <span id="factory-manage-airport">LFPG</span>
                        <span class="factory-manage-status" id="factory-manage-status">idle</span>
                    </div>

                    <!-- Efficiency Section -->
                    <div class="factory-section">
                        <div class="factory-section-title">EFFICACIT√â</div>
                        <div class="efficiency-container">
                            <div class="efficiency-gauge">
                                <div class="efficiency-gauge-fill" id="efficiency-gauge-fill" style="width: 0%"></div>
                            </div>
                            <span class="efficiency-value" id="efficiency-value">0%</span>
                        </div>
                        <div class="efficiency-breakdown">
                            <span id="efficiency-workers">Workers: 0% (0/10)</span>
                            <span id="efficiency-engineers">Ing√©nieurs: 0/0</span>
                            <span id="efficiency-food">Food: OK</span>
                        </div>
                    </div>

                    <!-- Ingredients Slots Section (V2) -->
                    <div class="factory-section">
                        <div class="factory-section-title">INGR√âDIENTS</div>
                        <div class="ingredient-slots" id="ingredient-slots">
                            <!-- Dynamically generated based on factory tier -->
                        </div>
                    </div>

                    <!-- Detected Recipe Section (V2) -->
                    <div class="factory-section">
                        <div class="factory-section-title">RECETTE D√âTECT√âE</div>
                        <div class="detected-recipe" id="detected-recipe">
                            <div class="no-recipe" id="no-recipe-message">
                                S√©lectionnez des ingr√©dients pour d√©tecter une recette
                            </div>
                            <div class="recipe-found" id="recipe-found" style="display: none;">
                                <div class="recipe-info-v2">
                                    <span class="recipe-icon" id="detected-recipe-icon">üçñ</span>
                                    <span class="recipe-name" id="detected-recipe-name">-</span>
                                    <span class="recipe-tier-badge" id="detected-recipe-tier">T1</span>
                                </div>
                                <div class="recipe-details">
                                    <span>Temps: <strong id="detected-recipe-time">-</strong></span>
                                    <span>Output: <strong id="detected-recipe-output">-</strong></span>
                                </div>
                                <select id="recipe-selector" class="form-select" style="display: none;" onchange="onRecipeSelect()">
                                    <!-- Options populated when multiple recipes match -->
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Production Section -->
                    <div class="factory-section">
                        <div class="factory-section-title">PRODUCTION</div>
                        <div class="production-status" id="production-status">
                            <span id="production-message">S√©lectionnez une recette</span>
                        </div>
                        <div class="production-progress" id="production-progress" style="display: none;">
                            <div class="production-progress-bar">
                                <div class="production-progress-fill" id="production-progress-fill" style="width: 0%"></div>
                            </div>
                            <div class="production-progress-text">
                                <span id="production-progress-pct">0%</span>
                                <span id="production-time-left">--</span>
                            </div>
                        </div>
                        <div class="production-controls">
                            <button class="btn btn-danger" id="btn-stop-production" onclick="stopProduction()" disabled>
                                STOP
                            </button>
                            <button class="btn" id="btn-start-production" onclick="startProduction()" disabled>
                                START
                            </button>
                        </div>
                    </div>

                    <!-- Food Section -->
                    <div class="factory-section">
                        <div class="factory-section-title">FOOD</div>
                        <div class="food-status">
                            <span class="food-icon">üçé</span>
                            <span id="food-stock">0</span> / <span id="food-capacity">100</span>
                            <span class="food-hours" id="food-hours">(0h)</span>
                        </div>
                        <div class="food-gauge">
                            <div class="food-gauge-fill" id="food-gauge-fill" style="width: 0%"></div>
                        </div>
                        <button class="btn btn-small btn-secondary" onclick="openFoodModal()">
                            Recharger
                        </button>
                    </div>

                    <!-- Workers Section -->
                    <div class="factory-section">
                        <div class="factory-section-title">
                            WORKERS
                            <span class="workers-count">(<span id="workers-current">0</span>/<span id="workers-max">5</span>)</span>
                        </div>
                        <div class="workers-list" id="workers-list">
                            <!-- Dynamically populated -->
                        </div>
                        <button class="btn btn-small btn-secondary" onclick="openManageWorkersModal()">
                            G√©rer workers
                        </button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeFactoryManageModal()">FERMER</button>
            </div>
        </div>
    </div>

    <!-- FOOD SELECT SUB-MODAL -->
    <div class="modal-overlay" id="modal-food-select" style="z-index: 10100;">
        <div class="modal" style="max-width: 400px;">
            <div class="modal-header">
                <div class="modal-title">üçé Recharger Food</div>
                <button class="modal-close" onclick="closeFoodModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="food-select-info">
                    <p>S√©lectionnez un item food depuis votre inventaire company.</p>
                </div>
                <div class="food-select-form">
                    <div class="form-group">
                        <label>Item Food:</label>
                        <select id="food-item-select" class="form-select" onchange="updateFoodMaxQty()">
                            <option value="">Chargement...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Quantit√©:</label>
                        <input type="number" id="food-qty-input" class="form-input" min="1" max="100" value="10">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeFoodModal()">ANNULER</button>
                <button class="btn" id="btn-confirm-food" onclick="submitFoodDeposit()">
                    CHARGER
                </button>
            </div>
        </div>
    </div>

    <!-- WORKERS MANAGEMENT SUB-MODAL (V2) -->
    <div class="modal-overlay" id="modal-workers-manage" style="z-index: 10100;">
        <div class="modal" style="max-width: 500px;">
            <div class="modal-header">
                <div class="modal-title">üë∑ Ajouter Workers</div>
                <button class="modal-close" onclick="closeWorkersModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="workers-modal-info">
                    <p>Workers disponibles √† <strong id="workers-modal-airport">LFPG</strong></p>
                </div>
                <div class="workers-available-list" id="workers-available-list">
                    <div class="loading-small">Chargement...</div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeWorkersModal()">FERMER</button>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    <script src="app.js"></script>
</body>
</html>
